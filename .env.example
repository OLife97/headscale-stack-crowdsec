# ==========================================
# CADDY & CROWDSEC & CLOUDFLARE
# ==========================================
CF_API_TOKEN=
CROWDSEC_BOUNCER_KEY=INSERT_GENERATED_KEY_HERE
DOMAIN=example.com
SUBDOMAIN=vpn

# ==========================================
# HEADSCALE BASE
# ==========================================
HEADSCALE_DNS_BASE_DOMAIN=ts.net # For MagicDNS or your custom domain
HEADSCALE_LOG_LEVEL=info

# ==========================================
# HEADSCALE OIDC AUTHENTICATION
# ==========================================
HEADSCALE_OIDC_ONLY_START_IF_OIDC_IS_AVAILABLE=true
HEADSCALE_OIDC_ISSUER=https://accounts.google.com # Your OIDC provider URL (e.g., Google, Authentik, Keycloak)  
HEADSCALE_OIDC_CLIENT_ID=client_id
HEADSCALE_OIDC_CLIENT_SECRET=client_secret
HEADSCALE_OIDC_SCOPE="openid,profile,email"

# ==========================================
# OIDC WHITELIST (ACCESS CONTROL)
# ==========================================
# IMPORTANT: Choose ONLY ONE of the following methods to restrict access.
# Uncomment the one you want to use and leave the others commented out.

# Method 1: Allowed Users (Best for families/friends using public IdPs like Google)
HEADSCALE_OIDC_ALLOWED_USERS="email1@gmail.com,email2@gmail.com"

# Method 2: Allowed Domains (Best if you have a Google Workspace or custom domain IdP)
# WARNING: Never use public domains like "gmail.com" here!
#HEADSCALE_OIDC_ALLOWED_DOMAINS="yourcompany.com,internal.org"

# Method 3: Allowed Groups (Best for Authentik, Keycloak, or Authelia with RBAC)
#HEADSCALE_OIDC_ALLOWED_GROUPS="headscale-admins,vpn-users"
